{"ast":null,"code":"import _regeneratorRuntime from\"/Users/chrisbii/Desktop/Projects/NameToIt/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/chrisbii/Desktop/Projects/NameToIt/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/chrisbii/Desktop/Projects/NameToIt/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Home(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),userInput=_useState2[0],setuserInput=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),characterCount=_useState4[0],setcharacterCount=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isFetching=_useState6[0],setIsFetching=_useState6[1];var navigate=useNavigate();var handleEvent=function handleEvent(e){setcharacterCount(e.target.value.length);setuserInput(e.target.value);if(e.target.value.length<251&&e.target.value.length>=10){document.getElementById(\"counter\").style.color=\"#00F260\";document.getElementById(\"submit\").disabled=false;}else{document.getElementById(\"counter\").style.color=\"#ff0000\";document.getElementById(\"submit\").disabled=true;};};function onSubmit(_x){return _onSubmit.apply(this,arguments);}function _onSubmit(){_onSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var res,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();setIsFetching(true);_context.prev=2;_context.next=5;return fetch('/api',{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({userInput:userInput})});case 5:res=_context.sent;if(!(res.status!==200)){_context.next=8;break;}throw res.error||new Error(\"Request failed with status \".concat(res.status));case 8:_context.next=10;return res.json();case 10:data=_context.sent;navigate(\"/result?res=\".concat(data.result));_context.next=18;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](2);console.error(_context.t0);alert(_context.t0.message);case 18:_context.prev=18;setIsFetching(false);return _context.finish(18);case 21:case\"end\":return _context.stop();}},_callee,null,[[2,14,18,21]]);}));return _onSubmit.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"form\",{className:\"userform\",onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Use your words\",onInput:handleEvent,value:userInput}),/*#__PURE__*/_jsxs(\"h6\",{id:\"counter\",children:[\" \",characterCount,\" \",/*#__PURE__*/_jsx(\"span\",{children:\" /250 \"}),\" \"]})]}),/*#__PURE__*/_jsx(\"button\",{disabled:isFetching||characterCount<10||characterCount>250,id:\"submit\",children:isFetching?/*#__PURE__*/_jsxs(\"span\",{children:[\"Thinking\",/*#__PURE__*/_jsx(\"span\",{className:\"dot\",children:\".\"}),/*#__PURE__*/_jsx(\"span\",{className:\"dot\",children:\".\"}),/*#__PURE__*/_jsx(\"span\",{className:\"dot\",children:\".\"})]}):'Submit'})]});};","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","Home","_useState","_useState2","_slicedToArray","userInput","setuserInput","_useState3","_useState4","characterCount","setcharacterCount","_useState5","_useState6","isFetching","setIsFetching","navigate","handleEvent","e","target","value","length","document","getElementById","style","color","disabled","onSubmit","_x","_onSubmit","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","data","wrap","_callee$","_context","prev","next","preventDefault","fetch","method","headers","body","JSON","stringify","sent","status","error","Error","concat","json","result","t0","console","alert","message","finish","stop","className","children","placeholder","onInput","id"],"sources":["/Users/chrisbii/Desktop/Projects/NameToIt/client/src/pages/Home.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nexport default function Home() {\n\n  const [userInput, setuserInput] = useState(\"\");\n  const [characterCount, setcharacterCount] = useState(0);\n  const [isFetching, setIsFetching] = useState(false);\n  const navigate = useNavigate();\n\n  const handleEvent =(e)=> {\n    setcharacterCount(e.target.value.length);\n    setuserInput(e.target.value);\n    if (e.target.value.length < 251 && e.target.value.length >= 10) {\n      document.getElementById(\"counter\").style.color = \"#00F260\";\n      document.getElementById(\"submit\").disabled = false;\n    } else {\n      document.getElementById(\"counter\").style.color = \"#ff0000\";\n      document.getElementById(\"submit\").disabled = true;\n    };\n  }\n\n  async function onSubmit(e){\n    e.preventDefault();\n    setIsFetching(true);\n\n    try {\n      const res = await fetch('/api', {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({userInput: userInput}),\n      });\n        if (res.status !== 200) {\n          throw res.error || new Error(`Request failed with status ${res.status}`)\n        }\n        const data = await res.json()\n        navigate(`/result?res=${data.result}`)\n      \n    } catch(error) {\n      console.error(error);\n      alert(error.message);\n    } finally {\n      setIsFetching(false);\n    }\n  }\n\n  return (\n      <form className=\"userform\" onSubmit={onSubmit}>\n        <div>\n          <textarea\n          placeholder=\"Use your words\"\n          onInput={handleEvent}\n          value={userInput}>\n          </textarea>\n          <h6 id=\"counter\"> {characterCount} <span> /250 </span> </h6>\n        </div>\n        <button disabled={isFetching || characterCount < 10 || characterCount > 250} id=\"submit\">\n          {isFetching ?\n          <span>\n            Thinking\n            <span className=\"dot\">.</span><span className=\"dot\">.</span><span className=\"dot\">.</span>\n          </span> :\n          'Submit' \n          }\n        </button>\n      </form>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}